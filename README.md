# MyVPN - –ü—Ä–æ—Å—Ç–æ–π VPN –ø—Ä–æ—Ç–æ–∫–æ–ª –Ω–∞ Go

VPN —Å–µ—Ä–≤–µ—Ä —Å TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º ChaCha20-Poly1305.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21 –∏–ª–∏ –≤—ã—à–µ
- Linux —Å–∏—Å—Ç–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ root/sudo (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ iptables)
- –£—Ç–∏–ª–∏—Ç—ã `ip` –∏ `iptables` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Ubuntu VPS)
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Xray-core (VLESS-Reality) + MyVPN –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ:
```bash
bash <(curl -s https://raw.githubusercontent.com/SAquante/myvpn/main/install.sh)
```
–°–∫—Ä–∏–ø—Ç —Å–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á–∏ –∏ –≤—ã–≤–µ–¥–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞!

---

### –†—É—á–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
go build -o myvpn-server ./cmd/server

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
go build -o myvpn-client ./cmd/client
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
sudo ./myvpn-server -addr :8080
```

–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—Å—Ç TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `myvpn0` —Å IP `10.0.0.1/24`
- –í–∫–ª—é—á–∏—Ç IP forwarding
- –ù–∞—Å—Ç—Ä–æ–∏—Ç NAT (MASQUERADE) –¥–ª—è VPN –ø–æ–¥—Å–µ—Ç–∏
- –î–æ–±–∞–≤–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ iptables –¥–ª—è FORWARD


```
### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∫–ª—é—á–æ–º (32 –±–∞–π—Ç–∞)
echo "1a2b3c4d5e6f7890abcdef1234567890abcdef1234567890abcdef1234567890" | xxd -r -p > key.bin

# –ò–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á
dd if=/dev/urandom of=key.bin bs=1 count=32

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –∫–ª—é—á–æ–º
sudo ./myvpn-server -addr :8080 -key key.bin
```

### –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞

```bash
sudo ./myvpn-client -server SERVER_IP:8080 -key key.bin -ip 10.0.0.2
```

–ö–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—Å—Ç TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `myvpn0` —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º IP
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –≤—Å–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ VPN (–µ—Å–ª–∏ `-auto-routes=true`)
- –ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

**–ü—Ä–∏–º–µ—Ä:**
```bash
sudo ./myvpn-client -server 192.168.1.100:8080 -key key.bin -ip 10.0.0.2
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞

- `-addr` - –∞–¥—Ä–µ—Å –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `:8080`)
- `-key` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∫–ª—é—á–æ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (32 –±–∞–π—Ç–∞). –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á
- `-verbose` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
- `-pprof` - –∞–¥—Ä–µ—Å –¥–ª—è pprof HTTP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `:6060`, –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç)
- `-metrics` - –∞–¥—Ä–µ—Å –¥–ª—è –º–µ—Ç—Ä–∏–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `:6061`, –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–ª–∏–µ–Ω—Ç–∞

- `-server` - –∞–¥—Ä–µ—Å VPN —Å–µ—Ä–≤–µ—Ä–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: `192.168.1.100:8080`)
- `-key` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∫–ª—é—á–æ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (32 –±–∞–π—Ç–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `-ip` - IP –∞–¥—Ä–µ—Å –¥–ª—è TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–ª–∏–µ–Ω—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `10.0.0.2`)
- `-auto-routes` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`)
- `-verbose` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
- `-pprof` - –∞–¥—Ä–µ—Å –¥–ª—è pprof HTTP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `:6060`, –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –°–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `myvpn0`
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: ChaCha20-Poly1305 (AEAD) —Å —Å–ª—É—á–∞–π–Ω—ã–º nonce –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞
- **–°–∂–∞—Ç–∏–µ**: LZ4 –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤ > 64 –±–∞–π—Ç (–µ—Å–ª–∏ —Å–∂–∞—Ç–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ)
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: UDP —Å keepalive –ø–∞–∫–µ—Ç–∞–º–∏
